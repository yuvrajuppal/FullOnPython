List comprehension is one of Pythonâ€™s most "Pythonic" features. It provides a concise way to create lists based on existing iterables (like lists, range, or strings) without writing full `for` loops.

Think of it as a one-line factory for lists.

---

### 1. The Basic Syntax

The standard structure follows this pattern: `new_list = [expression for item in iterable]`

|Component|Description|
|---|---|
|**Expression**|What you want to do to the item (the "output").|
|**Item**|The variable representing the current element.|
|**Iterable**|The source data (list, range, etc.).|

Export to Sheets

#### Example: Squaring Numbers

**The Old Way (4 lines):**

Python

```
squares = []
for x in range(10):
    squares.append(x**2)
```

**The List Comprehension Way (1 line):**

Python

```
squares = [x**2 for x in range(10)]
# Result: [0, 1, 4, 9, 16, 25, 36, 49, 64, 81]
```

---

### 2. Adding Conditionals (`if`)

You can filter which items get added to the new list by adding an `if` statement at the end.

**Syntax:** `[expression for item in iterable if condition]`

Python

```
prices = [10, 25, 40, 65, 100]

# Only keep prices over 30
expensive_items = [p for p in prices if p > 30]
# Result: [40, 65, 100]
```

---

### 3. Using `if-else` (The Ternary Twist)

If you want to change the output based on a condition (rather than just filtering), the `if-else` goes at the **start**.

**Syntax:** `[exp_if_true if condition else exp_if_false for item in iterable]`

Python

```
scores = [45, 88, 72, 30]

# Mark as "Pass" or "Fail"
status = ["Pass" if s >= 50 else "Fail" for s in scores]
# Result: ['Fail', 'Pass', 'Pass', 'Fail']
```

---

### 4. Why Use It? (And when not to)

- **Speed:** List comprehensions are generally faster than manual `append()` calls because they are optimized at the C-level in Python.
    
- **Readability:** For simple logic, they are much cleaner.
    
- **The Trap:** If your logic is too complex (e.g., nested loops with three `if` statements), a standard `for` loop is better. **Readability > Brevity.**
    

---

**Since we made that SQL products table earlier, would you like me to show you how to use list comprehension to extract specific prices or names from a simulated database result?**