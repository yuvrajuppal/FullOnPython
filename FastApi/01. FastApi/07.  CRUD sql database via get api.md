
read

```python
@app.get("/getusers")
def getusers():
    conn.commit()
    pool.execute("select * from student_data")
    data = pool.fetchall()
    return data
```

create api for sql database

```python
from pydantic import BaseModel
class userschema(BaseModel):
    usernmae:str
    userclass:str
    roll_no:int
```

```python
from schema.userSchema import userschema

@app.post("/adduser")
def adduser(userinfo: userschema):
    try:
        sql = """insert into student_data (name,class,roll_no)
        values (%s,%s,%s)"""
        pool.execute(sql,(userinfo.usernmae, userinfo.userclass,  
        userinfo.roll_no))
        conn.commit()
        return {"insersion": "done",
                "userschema":userinfo}
    except Exception as err:
        return {"insersion": "fail", "error": err}
```

update


